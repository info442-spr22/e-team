[{"/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/index.js":"1","/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/App.js":"2","/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/config/firebase-config.js":"3","/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/components/HomePage.js":"4","/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/components/SignInPage.js":"5"},{"size":289,"mtime":1651616881769,"results":"6","hashOfConfig":"7"},{"size":1552,"mtime":1651891554143,"results":"8","hashOfConfig":"7"},{"size":479,"mtime":1651616752182,"results":"9","hashOfConfig":"7"},{"size":1268,"mtime":1651891519756,"results":"10","hashOfConfig":"7"},{"size":323,"mtime":1651683598531,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"3y0fdr",{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","suppressedMessages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/index.js",[],[],"/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/App.js",["30","31"],[],"import './App.css';\nimport React, {useEffect, useState} from 'react';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\n\nimport HomePage from './components/HomePage';\nimport SignInPage from './components/SignInPage';\n\nfunction App() {\n  const [auth, setAuth] = useState(false || window.localStorage.getItem(\"auth\")===\"true\");\n  const [token, setToken] = useState('');\n  const [userId, setUserId] = useState('');\n\n  useEffect(()=> {\n    firebase.auth().onAuthStateChanged((userCred)=> {\n      if (userCred) {\n        setAuth(true);\n        window.localStorage.setItem('auth', true);\n        userCred.getIdToken().then((token) => {\n          setToken(token);\n        });\n      }\n    })\n  }, [])\n\n  const loginWithGoogle = () => {\n    console.log(\"inside login with google\")\n    firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(\n      async (userCred) => {\n        setAuth(true);\n        window.localStorage.setItem('auth', true);\n    });\n  }\n\n  const logOutOfAccount = () => {\n    firebase.auth().signOut();\n    setAuth(false);\n    window.localStorage.setItem('auth', false);\n  }\n\n  function setId (id) {\n    setId = id;\n  }\n\n  return (\n    <div className=\"App\">\n      {auth ? (<div>\n        <HomePage // THIS IS PASSING IN DIFFERENT VARIABLES INTO THE PROPS\n          token={token}\n          logOutOfAccount={logOutOfAccount}\n          userId={userId}\n          setId={setId}\n        />\n      </div>\n      ) : (<SignInPage loginWithGoogle={loginWithGoogle}/>)}\n    </div>\n  );\n}\n\nexport default App;\n","/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/config/firebase-config.js",[],[],"/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/components/HomePage.js",["32"],[],"import axios from 'axios';\nimport React, { useEffect } from 'react';\n// import firebase from 'firebase/compat/app';\n// import { getAuth, signOut } from \"firebase/auth\";\n\nexport default function HomePage(props) {\n  // I HAVE THE VARIABLES: props.token, props.users\n\n  useEffect(() => {\n    if (props.token) {\n      fetchData(props.token);\n    }\n  }, [props.token]);\n\n  const fetchData = async (token) => {\n    console.log(\"hello inside fetchData of HomePage.js\")\n    const res = await axios.get(\"http://localhost:8000/user\", {\n      headers: {\n        Authorization: \"Bearer \" + token,\n      }\n    });\n    console.log(\"################ THIS IS THE RES.DATA ################\")\n    console.log(res.data);\n    if (!res.data.success) {\n      console.log(\"create new user\")\n      await createNewUser(res.data.id, token);\n    }\n  }\n\n  // THIS IS AN EXAMPLE FUNCTION ON CALLING A POST METHOD TO THE BACKEND\n  async function createNewUser (id, token) {\n    const data = {body: id}\n    await axios.post(`http://localhost:8000/user`, data ,{\n      headers: {\n        Authorization: \"Bearer \" + token,\n      }\n    });\n\n  }\n\n  return ( \n    <div>\n      <h1>HOME</h1>\n      <p>Hello {props.userId}</p>\n      <button onClick={props.logOutOfAccount}>Log Out</button>\n    </div>\n  );\n}",[],"/Users/stephaniezhang/Desktop/School/INFO442/e-team/e-safety/e-safety-app/src/components/SignInPage.js",[],[],{"ruleId":"33","severity":1,"message":"34","line":12,"column":18,"nodeType":"35","messageId":"36","endLine":12,"endColumn":27},{"ruleId":"37","severity":1,"message":"38","line":42,"column":5,"nodeType":"35","messageId":"39","endLine":42,"endColumn":10},{"ruleId":"40","severity":1,"message":"41","line":13,"column":6,"nodeType":"42","endLine":13,"endColumn":19,"suggestions":"43"},"no-unused-vars","'setUserId' is assigned a value but never used.","Identifier","unusedVar","no-func-assign","'setId' is a function.","isAFunction","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["44"],{"desc":"45","fix":"46"},"Update the dependencies array to be: [fetchData, props.token]",{"range":"47","text":"48"},[349,362],"[fetchData, props.token]"]